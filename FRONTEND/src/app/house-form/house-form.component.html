<div class="card mt-5 ml-4 px-4 naranja-border" style="position:relative; margin-left: 120px; margin-right: 120px">
    <div class="row">
        <div class="col">

            @if(!isUpdate){
            <h4 class="mb-3 mt-4" style="color: #f57d00"><i class="bi bi-signpost-fill"
                    style=" margin-right: 10px;"></i>Introduce los detalles de tu casa</h4>
            } @else {
            <h4 class="mb-3 mt-4" style="color: #f57d00">Actualizar</h4>
            }


            <form class="mt-4" [formGroup]="houseForm" (ngSubmit)="save()">

                <input type="hidden" formControlName="id">

                <div class="row">
                    <div class="col ">
                        <label for="title">Nombre de la casa</label>
                        <input type="text" class="form-control mt-2" id="title" formControlName="title" placeholder=""
                            aria-label="title">
                    </div>

                    <div class="col">
                        <label for="address">Dirección</label>
                        <input type="text" class="form-control mt-2" id="address" formControlName="address"
                            placeholder="" aria-label="address">
                    </div>

                    <div class="col">
                        <label for="places">Plazas</label>
                        <input type="text" class="form-control mt-2" id="places" formControlName="places" placeholder=""
                            aria-label="places">
                    </div>

                    <div class="col">
                        <label for="bedrooms">Habitaciones</label>
                        <input type="number" min="1" max="10" step="1" class="form-control mt-2" id="bedrooms"
                            formControlName="bedrooms" placeholder="" aria-label="bedrooms">
                    </div>

                    <div class="row mt-3">
                        <div class="col ">

                            <label for="bathrooms">Baños</label>
                            <input type="number" min="1" max="10" step="1" class="form-control mt-2" id="bathrooms"
                                formControlName="bathrooms" placeholder="" aria-label="bathrooms">

                        </div>

                        <div class="col">
                            <label for="price">Precio por noche (€)</label>
                            <input type="number" min="0" max="300" step="0.01" class="form-control mt-2" id="price"
                                formControlName="price" placeholder="" aria-label="price">
                        </div>

                        <div class="col">
                            <label for="meters">Metros cuadrados</label>
                            <input type="number" min="50" max="1000" step="1" class="form-control mt-2" id="meters"
                                formControlName="meters" placeholder="" aria-label="meters">
                        </div>

                        <div class="col">
                            <label for="destination">Ubicación</label>
                            <select class="form-select mt-2" id="destination" formControlName="destination"
                                aria-label="destination" [compareWith]="compareObjects">

                                <option>Selecciona Ubicación</option>
                                <option value="Madrid">Madrid</option>
                                <option value="Almeria">Almeria</option>
                                <option value="Asturias">Asturias</option>

                            </select>

                        </div>

                        <div class="mt-3">
                            <table class="table">

                                <tbody>
                                    <tr>
                                        <td scope="row">
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" value=""
                                                    id="petFriendly" formControlName="petFriendly">
                                                <label class="form-check-label" for="petFriendly">
                                                    PetFriendly
                                                </label>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="form-check">
                                                <input class="form-check-input" type="checkbox" value="" id="pool"
                                                    formControlName="pool">
                                                <label class="form-check-label" for="pool" style="margin-left: 8px;">
                                                    Piscina
                                                </label>
                                            </div>
                                        </td>

                                        <td>
                                            <input class="form-check-input" type="checkbox" value="" id="garden"
                                                formControlName="garden">
                                            <label class="form-check-label" for="garden" style="margin-left: 8px;">
                                                Jardin
                                            </label>
                                        </td>

                                    </tr>
                                    <tr>
                                        <td scope="row ">
                                            <input class="form-check-input" type="checkbox" value="" id="terrace"
                                                formControlName="terrace">
                                            <label class="form-check-label" for="terrace" style="margin-left: 8px;">
                                                Terraza
                                            </label>
                                        </td>

                                        <td>
                                            <input class="form-check-input" type="checkbox" value="" id="wifi"
                                                formControlName="wifi">
                                            <label class="form-check-label" for="wifi" style="margin-left: 8px;">
                                                WiFi
                                            </label>
                                        </td>

                                        <td>
                                            <input class="form-check-input" type="checkbox" id="air"
                                                formControlName="air">
                                            <label class="form-check-label" for="air" style="margin-left: 8px;">
                                                Aire acondicionado
                                            </label>
                                        </td>

                                    </tr>

                                </tbody>
                            </table>

                        </div>
                        <div class="form-floating mt-4">
                            <textarea class="form-control" placeholder="Leave a comment here" id="description"
                                formControlName="description" style="height: 100px"></textarea>
                            <label for="description" style="margin-left: 8px ">Descripción</label>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <h4 class="mb-3 mt-4" style="color: #f57d00">
                        <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" class="bi bi-person-bounding-box" viewBox="0 0 16 16" style="margin-right: 10px;">
                            <path d="M1.5 1a.5.5 0 0 0-.5.5v3a.5.5 0 0 1-1 0v-3A1.5 1.5 0 0 1 1.5 0h3a.5.5 0 0 1 0 1zM11 .5a.5.5 0 0 1 .5-.5h3A1.5 1.5 0 0 1 16 1.5v3a.5.5 0 0 1-1 0v-3a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 1-.5-.5M.5 11a.5.5 0 0 1 .5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 1 0 1h-3A1.5 1.5 0 0 1 0 14.5v-3a.5.5 0 0 1 .5-.5m15 0a.5.5 0 0 1 .5.5v3a1.5 1.5 0 0 1-1.5 1.5h-3a.5.5 0 0 1 0-1h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 1 .5-.5"/>
                            <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1zm8-9a3 3 0 1 1-6 0 3 3 0 0 1 6 0"/>
                          </svg>Datos de contacto</h4>
                    <div class="col-6">
                      <label for="phone" style="margin-top: 13px;">Teléfono</label>
                      <input type="text"  class="form-control mt-2" id="phone"
                          formControlName="phone" placeholder="" aria-label="phone">
                          <label for="email" style="margin-top: 13px;">Email</label>
                          <input type="text"  class="form-control mt-2" id="email"
                              formControlName="email" placeholder="" aria-label="email">
                  </div>
                  <div class="col-6" style="margin-top: -40px;">
                    @if (photoPreview) {
                        <h4 style="color: #f57d00">Previsualización</h4>
                        <img class="img-fluid" [src]="photoPreview" style="width: 300px;">
                    }
                </div>
                  </div>

                  <h4 class="mb-3 mt-4" style="color: #f57d00"><i class="bi bi-camera-fill" style="color:#f57d00; margin-right: 10px;"></i>Añadir Fotos</h4>
                  <div class="col-md-6">

                  <div class="input-group mt-4"> 
                   <!-- <label class="input-group-text" for="photoUrl"> Subir Foto</label> -->
                    <input type="file" class="form-control" id="photoUrl" (change)="onFileChange($event)"> 
                    <input type="hidden" formControlName="photoUrl">
                </div> 
                  </div>
                <br>
                
                <div class=" mt-2">
                    <button class="btn btn-outline-naranaja w-25 py-2 mb-3" type="submit">Enviar</button> 
                    <span style="margin-left: 10px;"></span>
                   <button class="btn btn-outline-naranaja w-25 py-2 mb-3" type="submit" routerLink="/houses">Cancelar</button>
                   <span style="margin-left: 10px;"></span>
                   <button class="btn btn-outline-naranaja w-25 py-2 mb-3" type="submit" routerLink="/houses">Volver</button>
 
                 </div>
 
           </form>
           @if (showConfirmMessage) {
             <ngb-alert type="warning" [dismissible]="false" class="mt-4 mb-3" style="min-height: 200px">
               <p>Casa creada/actualizada correctamente</p>
 
               <div style="text-align: center;">
                 <i class="bi bi-check-lg" style="font-size: 4em;"></i>
             </div>
 
               Para cualquier duda contacte con soporte&commat;casaRural.com
             </ngb-alert>
 
 
           }
       </div>
 
   </div>
 
 </div>
         